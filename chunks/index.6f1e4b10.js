const{replace:w}="",S=/[&<>'"]/g,A={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},j=t=>A[t],C=t=>w.call(t,S,j),v=C;class d extends String{}const i=t=>t instanceof d?t:typeof t=="string"?new d(t):t;function E(t){const e={};return n(t),Object.keys(e).join(" ");function n(r){r&&typeof r.forEach=="function"?r.forEach(n):r===Object(r)?Object.keys(r).forEach(o=>{r[o]&&n(o)}):(r=r==null?"":String(r).trim(),r&&r.split(/\s+/).forEach(o=>{e[o]=!0}))}}typeof process=="object"&&Object.prototype.toString.call(process);class x{constructor(e,n){this.modules=n.modules,this.hoisted=n.hoisted,this.hydratedComponents=n.hydratedComponents,this.clientOnlyComponents=n.clientOnlyComponents,this.hydrationDirectives=n.hydrationDirectives,this.mockURL=new URL(e,"http://example.com"),this.metadataCache=new Map}resolvePath(e){if(e.startsWith(".")){const n=new URL(e,this.mockURL).pathname;return n.startsWith("/@fs")&&n.endsWith(".jsx")?n.slice(0,n.length-4):n}return e}getPath(e){const n=this.getComponentMetadata(e);return n?.componentUrl||null}getExport(e){const n=this.getComponentMetadata(e);return n?.componentExport||null}*hoistedScriptPaths(){for(const e of this.deepMetadata()){let n=0,r=e.mockURL.pathname;for(;n<e.hoisted.length;)yield`${r.replace("/@fs","")}?astro&type=script&index=${n}&lang.ts`,n++}}*deepMetadata(){yield this;const e=new Set;for(const{module:n}of this.modules)if(typeof n.$$metadata<"u"){const r=n.$$metadata;for(const o of r.deepMetadata())e.has(o)||(e.add(o),yield o)}}getComponentMetadata(e){if(this.metadataCache.has(e))return this.metadataCache.get(e);const n=this.findComponentMetadata(e);return this.metadataCache.set(e,n),n}findComponentMetadata(e){const n=typeof e=="string";for(const{module:r,specifier:o}of this.modules){const s=this.resolvePath(o);for(const[c,a]of Object.entries(r))if(n){if(c==="tagName"&&e===a)return{componentExport:c,componentUrl:s}}else if(e===a)return{componentExport:c,componentUrl:s}}return null}}function W(t,e){return new x(t,e)}const R=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,M=/^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,O=/^(contenteditable|draggable|spellcheck|value)$/i,L=/^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i;async function*l(t){if(t=await t,t instanceof d)yield t;else if(Array.isArray(t))for(const e of t)yield i(await l(e));else typeof t=="function"?yield*l(t()):typeof t=="string"?yield i(v(t)):!t&&t!==0||(t instanceof y||Object.prototype.toString.call(t)==="[object AstroComponent]"?yield*N(t):typeof t=="object"&&Symbol.asyncIterator in t?yield*t:yield t)}class y{constructor(e,n){this.htmlParts=e,this.expressions=n}get[Symbol.toStringTag](){return"AstroComponent"}async*[Symbol.asyncIterator](){const{htmlParts:e,expressions:n}=this;for(let r=0;r<e.length;r++){const o=e[r],s=n[r];yield i(o),yield*l(s)}}}async function D(t,...e){return new y(t,e)}function V(t){return t.isAstroComponentFactory=!0,t}async function q(t,e,n){if(e){let r=l(e),o="";for await(const s of r)o+=s;return i(o)}return n}function U(){return()=>{throw new Error("Deprecated: Astro.fetchContent() has been replaced with Astro.glob().")}}function k(){return(e,n)=>{let r=[...Object.values(e)];if(r.length===0)throw new Error(`Astro.glob(${JSON.stringify(n())}) - no matches found.`);return Promise.all(r.map(o=>o()))}}function F(t,e,n){const r=new URL(e),o=new URL(t,r),s=new URL(n);return{site:r,fetchContent:U(),glob:k(),resolve(...c){let a=c.reduce((g,$)=>new URL($,g),o).pathname;return a.startsWith(s.pathname)&&(a="/"+a.slice(s.pathname.length)),a}}}const p=(t,e=!0)=>e?String(t).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):t,T=new Set(["set:html","set:text"]);function H(t,e,n=!0){return t==null?"":t===!1?O.test(e)||L.test(e)?i(` ${e}="false"`):"":T.has(e)?(console.warn(`[astro] The "${e}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${e}={value}\`) instead of the dynamic spread syntax (\`{...{ "${e}": value }}\`).`),""):e==="class:list"?i(` ${e.slice(0,-5)}="${p(E(t))}"`):t===!0&&(e.startsWith("data-")||M.test(e))?i(` ${e}`):i(` ${e}="${p(t,n)}"`)}function m(t,e=!0){let n="";for(const[r,o]of Object.entries(t))n+=H(o,r,e);return i(n)}function h(t,e){let n=`
`;for(const[r,o]of Object.entries(e))n+=`  --${r}: ${o};
`;return i(`${t} {${n}}`)}function I(t){let e="";for(const[n,r]of Object.entries(t))e+=`let ${n} = ${JSON.stringify(r)};
`;return i(e)}new TextEncoder;const f=(t,e,n)=>{const r=JSON.stringify(t.props),o=t.children;return e===n.findIndex(s=>JSON.stringify(s.props)===r&&s.children==o)},b=new WeakSet;function P(t){b.add(t);const e=Array.from(t.styles).filter(f).map(o=>u("style",o));t.styles.clear();const n=Array.from(t.scripts).filter(f).map((o,s)=>u("script",o)),r=Array.from(t.links).filter(f).map(o=>u("link",o,!1));return i(r.join(`
`)+e.join(`
`)+n.join(`
`))}async function*J(t){b.has(t)||(yield P(t))}async function*N(t){for await(const e of t)if(e||e===0)for await(const n of l(e))yield i(n)}function u(t,{props:e,children:n=""},r=!0){const{lang:o,"data-astro-id":s,"define:vars":c,...a}=e;return c&&(t==="style"&&(a["is:global"]?n=h(":root",c)+`
`+n:n=h(`.astro-${s}`,c)+`
`+n,delete a["is:global"],delete a["is:scoped"]),t==="script"&&(delete a.hoist,n=I(c)+`
`+n)),(n==null||n=="")&&R.test(t)?`<${t}${m(a,r)} />`:`<${t}${m(a,r)}>${n}</${t}>`}export{F as a,V as b,W as c,q as d,H as e,J as m,D as r};
